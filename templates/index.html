{% extends "layout.html" %}
{% block title %}Decidr{% endblock %}

{% block extra_style %}
    <link rel="stylesheet" href="static/css/smoothness/jquery-ui-1.10.0.custom.css">
{% endblock %}

{% block body %}
    <header>
      <div id="header">
        <div id="decidrLogo">decidr</div>
        <div id="topLevelCtrlBar">
          <a href="javascript:void(0)" id="createProject-show" title="Create a new project, or open a recent project.">New Project</a> &nbsp;|&nbsp;
          <a href="javascript:void(0)" id="editProject-show" title="Edit the current project.">Edit Project</a>
        </div>
        <div class="clearPanel"></div>
      </div>
    </header>

    <div id="prjHeader">
      <div id="prjInfo">
        <div id="prjIcon"></div>
        <span id="prjTitle" class="title"></span><br/>
        <span id="prjDesc" class="desc"></span>
      </div>
      
      <div id="prjCtrlBar" style="display: none;">
        <button id="createItem-show">New Item</button>
      </div>
      
      <div class="clearPanel"></div>
      <hr/>
    </div>

    <div id="updateIndicatorContainer">
      <div id="updateSuccess" style="display: none;">All changes saved</div>
      <div id="updateFailure" style="display: none;">Error updating project!</div>
      <div id="updateInProgress" style="display: none;"><img src="static/images/updating.gif" width="16px" height="11px"> Saving Changes...</div>
      <div class="clearPanel"></div>
    </div>

    <div id="fatalErrorMessage" style="display:none;"></div>

    <div id="content">
      <div id="gridContainer"><div id="grid"></div></div>

      <div id="infoDock">
        <div id="itemInfo">
          <span id="itemTitle" class="title"></span><br/>
          <textarea id="itemDesc"></textarea><br/>

          Color:
          <select id="itemColorSelector" size="1">
            <option value="#D15600" selected="selected">Red</option>
            <option value="#93C763">Green</option>
            <option value="#5989A0">Blue</option>
            <option value="#000000">Black</option>
          </select>


          <br/><br/><hr/><br/>
          &nbsp;Coordinates: <span id="itemXPos">0</span>, <span id="itemYPos">0</span><br/>
          &nbsp;Moves: <span id="itemRevs">0</span><br/>
          <button id="deleteItemBtn">Delete Item</button>
          <br/><br/>

        </div>
      </div>
      <a href="javascript:void(0)" id="infoDockToggleBtn" class="ui-state-default ui-corner-all"></a>
    </div>

    <!-- DialogBoxes -->

    <div id="createEditProject-dialog" class="createEdit-dialog" style="display: none;">
      <table>
        <tr>
          <td>
            <h1 id="createEditProject-title">Create New Project</h1>
            <table>
              <tr>
                <td>Name:</td>
                <td><input type="text" id="createEditProject-name" class="text ui-widget-content ui-corner-all"/></td>
              </tr><tr>
                <td>Description:</td>
                <td><textarea id="createEditProject-desc" class="ui-widget-content ui-corner-all"></textarea></td>
              </tr><tr class="createEditProject-extra">
                <td>X-Axis:</td>
                <td><input type="text" id="createEditProject-xaxis" class="text ui-widget-content ui-corner-all"/></td>
              </tr><tr class="createEditProject-extra">
                <td>Y-Axis:</td>
                <td><input type="text" id="createEditProject-yaxis" class="text ui-widget-content ui-corner-all"/></td>
              </tr>
            </table>    
            <div class="buttonBar">  
              <button id="createEditProject-submit">Create Project</button>
              <button id="createEditProject-cancel">Cancel</button>
              <img class="loading" src="static/images/loading.gif" width="32" height="32"/>
            </div>
            <div class="clearPanel"></div>
          </td>
          <td>
            <div id="recentProjects" style="display:none;">
              <h1>My Recent Projects</h1>
              <ul id="recentProjects-List">
              </ul>
            </div>          
          </td>
        </tr>
      </table>
    </div>

    <div id="createItem-dialog" class="createEdit-dialog" style="display: none;">
      <h1>New Item</h1>
      <table>
        <tr>
          <td>Name:</td>
          <td><input type="text" id="createItem-name" class="text ui-widget-content ui-corner-all"/></td>
        </tr><tr>
          <td>Description:</td>
          <td><textarea id="createItem-desc" class="ui-widget-content ui-corner-all"></textarea></td>
        </tr>
      </table>    
      <div class="buttonBar">  
        <button id="createItem-submit">Create Item</button>
        <button id="createItem-cancel">Cancel</button>
        <img class="loading" src="static/images/loading.gif" width="32" height="32"/>
      </div>

      <div class="clearPanel"></div>
    </div>      

{% endblock %}

{% block scripts %}
<!-- CDN Resources
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
-->

    <!-- Local copies of jquery, from CDN -->
    <script src="static/js/jquery.min.js" type="text/javascript"></script>
    <script src="static/js/jquery-ui.min.js" type="text/javascript"></script>
    <script src="/static/js/jquery.cookie.js"></script>

    <script src="static/js/raphael.2.1.1.min.js" type="text/javascript"></script>
    <script src="static/js/decidr.js" type="text/javascript"></script>

    <!-- Add Raphael icons to page -->
    <script>
      var prjIcon = Raphael("prjIcon",36,36);
      prjIcon.path("M17.078,22.004l-1.758-4.129l-2.007,4.752l-7.519-3.289l0.174,3.905l9.437,4.374l10.909-5.365l-0.149-4.989L17.078,22.004zM29.454,6.619L18.521,3.383l-3.006,2.671l-3.091-2.359L1.546,8.199l3.795,3.048l-3.433,5.302l10.879,4.757l2.53-5.998l2.257,5.308l11.393-5.942l-3.105-4.709L29.454,6.619zM15.277,14.579l-9.059-3.83l9.275-4.101l9.608,3.255L15.277,14.579z").attr({fill: "#293134", stroke: "none"});
      </script>    

{% endblock %}